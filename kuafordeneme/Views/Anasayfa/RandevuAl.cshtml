@{
    ViewData["Title"] = "Randevu Al";
}

<div class="container mt-5">
    <h2 class="text-center mb-4">Randevu Al</h2>

    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <form method="post" action="/Anasayfa/RandevuAl">
                        <!-- Ad Soyad -->
                        <div class="mb-3">
                            <label for="adSoyad" class="form-label">Ad Soyad:</label>
                            <input type="text" class="form-control" id="adSoyad" name="adSoyad" required>
                        </div>

                        <!-- İşlem Seçimi -->
                        <div class="mb-3">
                            <label for="islem" class="form-label">İşlem Seçin:</label>
                            <select class="form-select" id="islem" name="islemID" required onchange="getCalisanlar()">
                                <option value="">İşlem Seçin</option>
                                @foreach (var islem in (List<Islemler>)ViewBag.Islemler)
                                {
                                    <option value="@islem.IslemID">@islem.IslemAd</option>
                                }
                            </select>
                        </div>

                        <!-- Çalışan Seçimi -->
                        <div class="mb-3">
                            <label for="calisan" class="form-label">Çalışan Seçin:</label>
                            <select class="form-select" id="calisan" name="calisanID" required>
                                <option value="">Çalışan Seçin</option>
                                @foreach (var calisan in (List<Calisanlar>)ViewBag.Calisanlar)
                                {
                                    <option value="@calisan.CalisanID">@calisan.CalisanAd</option>
                                }
                            </select>
                        </div>

                        <!-- Randevu Zamanı -->
                        <div class="mb-3">
                            <label for="randevuZamani" class="form-label">Randevu Zamanı:</label>
                            <input type="datetime-local" class="form-control" id="randevuZamani" name="randevuZamani" required>
                        </div>

                        <!-- Submit Button -->
                        <div class="mb-3">
                            <button type="submit" class="btn btn-primary w-100">Randevu Al</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">
        @TempData["Error"]
    </div>
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">
        @TempData["Success"]
    </div>
}
